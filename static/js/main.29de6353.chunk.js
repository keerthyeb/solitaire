(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,r){e.exports=r(18)},16:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(3),a=r(9),o=r(6),s=r(10),l=r(1),c=r(0),d=r.n(c),u=r(7),p=r.n(u),h=(r(16),[{type:"spade",number:"1",color:"black",unicode:"\ud83c\udca1"},{type:"spade",number:"2",color:"black",unicode:"\ud83c\udca2"},{type:"spade",number:"3",color:"black",unicode:"\ud83c\udca3"},{type:"spade",number:"4",color:"black",unicode:"\ud83c\udca4"},{type:"spade",number:"5",color:"black",unicode:"\ud83c\udca5"},{type:"spade",number:"6",color:"black",unicode:"\ud83c\udca6"},{type:"spade",number:"7",color:"black",unicode:"\ud83c\udca7"},{type:"spade",number:"8",color:"black",unicode:"\ud83c\udca8"},{type:"spade",number:"9",color:"black",unicode:"\ud83c\udca9"},{type:"spade",number:"10",color:"black",unicode:"\ud83c\udcaa"},{type:"spade",number:"11",color:"black",unicode:"\ud83c\udcab"},{type:"spade",number:"12",color:"black",unicode:"\ud83c\udcad"},{type:"spade",number:"13",color:"black",unicode:"\ud83c\udcae"},{type:"club",number:"1",color:"black",unicode:"\ud83c\udcd1"},{type:"club",number:"2",color:"black",unicode:"\ud83c\udcd2"},{type:"club",number:"3",color:"black",unicode:"\ud83c\udcd3"},{type:"club",number:"4",color:"black",unicode:"\ud83c\udcd4"},{type:"club",number:"5",color:"black",unicode:"\ud83c\udcd5"},{type:"club",number:"6",color:"black",unicode:"\ud83c\udcd6"},{type:"club",number:"7",color:"black",unicode:"\ud83c\udcd7"},{type:"club",number:"8",color:"black",unicode:"\ud83c\udcd8"},{type:"club",number:"9",color:"black",unicode:"\ud83c\udcd9"},{type:"club",number:"10",color:"black",unicode:"\ud83c\udcda"},{type:"club",number:"11",color:"black",unicode:"\ud83c\udcdb"},{type:"club",number:"12",color:"black",unicode:"\ud83c\udcdd"},{type:"club",number:"13",color:"black",unicode:"\ud83c\udcde"},{type:"diamond",number:"1",color:"red",unicode:"\ud83c\udcc1"},{type:"diamond",number:"2",color:"red",unicode:"\ud83c\udcc2"},{type:"diamond",number:"3",color:"red",unicode:"\ud83c\udcc3"},{type:"diamond",number:"4",color:"red",unicode:"\ud83c\udcc4"},{type:"diamond",number:"5",color:"red",unicode:"\ud83c\udcc5"},{type:"diamond",number:"6",color:"red",unicode:"\ud83c\udcc6"},{type:"diamond",number:"7",color:"red",unicode:"\ud83c\udcc7"},{type:"diamond",number:"8",color:"red",unicode:"\ud83c\udcc8"},{type:"diamond",number:"9",color:"red",unicode:"\ud83c\udcc9"},{type:"diamond",number:"10",color:"red",unicode:"\ud83c\udcca"},{type:"diamond",number:"11",color:"red",unicode:"\ud83c\udccb"},{type:"diamond",number:"12",color:"red",unicode:"\ud83c\udccd"},{type:"diamond",number:"13",color:"red",unicode:"\ud83c\udcce"},{type:"heart",number:"1",color:"red",unicode:"\ud83c\udcb1"},{type:"heart",number:"2",color:"red",unicode:"\ud83c\udcb2"},{type:"heart",number:"3",color:"red",unicode:"\ud83c\udcb3"},{type:"heart",number:"4",color:"red",unicode:"\ud83c\udcb4"},{type:"heart",number:"5",color:"red",unicode:"\ud83c\udcb5"},{type:"heart",number:"6",color:"red",unicode:"\ud83c\udcb6"},{type:"heart",number:"7",color:"red",unicode:"\ud83c\udcb7"},{type:"heart",number:"8",color:"red",unicode:"\ud83c\udcb8"},{type:"heart",number:"9",color:"red",unicode:"\ud83c\udcb9"},{type:"heart",number:"10",color:"red",unicode:"\ud83c\udcba"},{type:"heart",number:"11",color:"red",unicode:"\ud83c\udcbb"},{type:"heart",number:"12",color:"red",unicode:"\ud83c\udcbd"},{type:"heart",number:"13",color:"red",unicode:"\ud83c\udcbe"}]),b=r(8),m=r.n(b),g=function(){function e(){var t=this;Object(n.a)(this,e),this.setDraggable=function(e){return e.draggable=!0},this.getWinningPiles=function(){return t.decks},this.isEmpty=function(e){return 1==e},this.isFirstCard=function(e){return"1"==e.number&&t.colors[e.type]==e.color};var r={type:"",number:"",unicode:"",color:""};this.decks={spade:[r],heart:[r],club:[r],diamond:[r]},this.colors={spade:"black",heart:"red",club:"black",diamond:"red"}}return Object(i.a)(e,[{key:"isWon",value:function(){var e=this,t=0;return Object.keys(this.decks).forEach(function(r){t+=e.decks[r].length}),56==t}},{key:"isDropable",value:function(e){var t=this.decks[e.type].length;return this.isEmpty(t)?!!this.isFirstCard(e)&&(this.setDraggable(e),this.decks[e.type].push(e),!0):!!this.isThisDropable(e)&&(this.setDraggable(e),this.decks[e.type].push(e),!0)}},{key:"isThisDropable",value:function(e){var t=this.decks[e.type].length;return+this.decks[e.type][t-1].number+1==e.number&&this.colors[e.type]==e.color}}]),e}(),y=function(){function e(){var t=this;Object(n.a)(this,e),this.addPile=function(e){return t.piles.push(e)},this.getPiles=function(){return t.piles},this.setDraggable=function(e,r){t.piles[e][r-2]&&(t.piles[e][r-2].draggable=!0)},this.removeCard=function(e){return t.piles[e].pop()},this.getPileLength=function(e){return t.piles[e].length},this.getLastCard=function(e){return t.piles[e][t.getPileLength(e)-1]},this.isKing=function(e){return 13==+e.number},this.piles=[]}return Object(i.a)(e,[{key:"getPileAndLength",value:function(e){var t=this.piles[e];return{length:t.length,pile:t}}},{key:"isThisDropableOnPile",value:function(e,t){return+e.number-1==t.number&&e.color!=t.color}},{key:"isDropableFromPile",value:function(e,t,r){var n=this.getPileAndLength(r),i=n.length,a=n.pile;if(0==i&&this.isKing(e))this.updatePiles(r,t,e);else{var o=a[i-1];this.isThisDropableOnPile(o,e)&&this.updatePiles(r,t,e)}}},{key:"setLastCardDraggable",value:function(e){this.piles[e].length&&(this.piles[e][this.piles[e].length-1].draggable=!0)}},{key:"isDropableFromOpenCard",value:function(e,t){var r=this.getPileAndLength(t),n=r.length,i=r.pile;if(0==n&&this.isKing(e))return e.draggable=!0,this.piles[t].push(e),!0;var a=i[n-1];return!!this.isThisDropableOnPile(a,e)&&(e.draggable=!0,this.piles[t].push(e),!0)}},{key:"updatePiles",value:function(e,t,r){var n=this;r.draggable=!0;var i=this.piles[t].findIndex(function(e){return e.unicode==r.unicode}),a=this.piles[t].splice(i);a.forEach(function(t){n.piles[e].push(t)}),this.piles[e].concat(a),this.setLastCardDraggable(t)}}]),e}(),v=function(){function e(){var t=this;Object(n.a)(this,e),this.getPiles=function(){return t.piles.getPiles()},this.isLastCard=function(e,t){return e==t},this.shuffledCards=m.a.shuffle(h),this.winningPiles=new g,this.piles=new y,this.openCards=[],this.rendPileCards(),this.initializeOpenCards()}return Object(i.a)(e,[{key:"isWon",value:function(){return this.winningPiles.isWon()}},{key:"rendPileCards",value:function(){for(var e=0,t=0;t<7;t++){var r=[];e=this.generatePile(t,e,r),this.piles.addPile(r)}return this.piles.getPiles()}},{key:"generatePile",value:function(e,t,r){for(var n=0;n<=e;n++){var i=this.shuffledCards[t];this.isLastCard(n,e)&&(i.draggable=!0),r.push(i),t++}return t}},{key:"initializeOpenCards",value:function(){for(var e=28;e<52;e++)this.openCards.push(this.shuffledCards[e]);return this.openCards}},{key:"updateOpenCards",value:function(){return this.openCards.unshift(this.openCards.pop()),this.openCards[this.openCards.length-1].draggable=!0,this.openCards}},{key:"isDropable",value:function(e){return"back"==e?this.isDropableFromOpenCards():this.isDropableFromPile(e)}},{key:"isDropableFromPile",value:function(e){var t=this.piles.getPileLength(e),r=this.piles.getLastCard(e);return this.winningPiles.isDropable(r)&&(this.piles.removeCard(e),this.piles.setDraggable(e,t)),this.getGameDetails()}},{key:"isDropableFromOpenCards",value:function(){var e=this.openCards[this.openCards.length-1];return this.winningPiles.isDropable(e)&&this.openCards.pop(),this.getGameDetails()}},{key:"isDropableOnPileFromPile",value:function(e,t,r){return this.piles.isDropableFromPile(e,t,r),this.getGameDetails()}},{key:"isDropableOnPileFromOpenCard",value:function(e,t){return this.piles.isDropableFromOpenCard(e,t)&&this.openCards.pop(),this.getGameDetails()}},{key:"rendLastCard",value:function(e){var t=this.cards[e].length;return this.cards[e][t-1]}},{key:"getGameDetails",value:function(){return{piles:this.piles.getPiles(),openCards:this.openCards,winningState:this.winningPiles.getWinningPiles(),isWon:this.isWon()}}}]),e}(),f=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this,e))).allowDrop=function(e){return e.preventDefault()},r.drag=function(e){return e.dataTransfer.setData("text",e.target.id)},r.updateOpenCards=function(){return r.setState({openCards:r.game.updateOpenCards()})},r.cardColor={black:"black",red:"red"},r.BACK=["\ud83c\udca0"],r.game=new v,r.state=r.game.getGameDetails(),r.rendCards=r.rendCards.bind(Object(l.a)(Object(l.a)(r))),r.drop=r.drop.bind(Object(l.a)(Object(l.a)(r))),r.dropOnPile=r.dropOnPile.bind(Object(l.a)(Object(l.a)(r))),r.updateOpenCards=r.updateOpenCards.bind(Object(l.a)(Object(l.a)(r))),r.rendOpenCards=r.rendOpenCards.bind(Object(l.a)(Object(l.a)(r))),r.rendWinningDiv=r.rendWinningDiv.bind(Object(l.a)(Object(l.a)(r))),r.dropOnEmptyPile=r.dropOnEmptyPile.bind(Object(l.a)(Object(l.a)(r))),r}return Object(s.a)(t,e),Object(i.a)(t,[{key:"drop",value:function(e){var t=e.dataTransfer.getData("text").split("_")[3];this.setState(this.game.isDropable(t))}},{key:"dropOnPile",value:function(e){var t=e.target.parentElement.id.split("_")[1];this.updateGame(e,t)}},{key:"dropOnEmptyPile",value:function(e){var t=e.target.id.split("_")[1];this.updateGame(e,t)}},{key:"updateGame",value:function(e,t){var r,n=e.dataTransfer.getData("text"),i=n.split("_"),a=i[3];if("back"==a){var o=this.state.openCards[this.state.openCards.length-1];return r=this.game.isDropableOnPileFromOpenCard(o,t),this.setState(r)}var s=document.getElementById(n).innerHTML,l={color:i[0],number:i[1],type:i[2],unicode:s};r=this.game.isDropableOnPileFromPile(l,a,t),this.setState(r)}},{key:"rendCards",value:function(){for(var e=[],t=0;t<7;t++){var r=this.state.piles[t].length;this.createPile(r,t,[],e)}return d.a.createElement("div",{className:"piles"},e)}},{key:"createPile",value:function(e,t,r,n){var i=this;this.state.piles[t].forEach(function(e){var n=[e.color,e.number,e.type,t].join("_"),a=d.a.createElement(k,{id:n,className:"black",text:i.BACK});e.draggable&&(a=d.a.createElement(C,{id:n,class:i.cardColor[e.color],onDragStart:i.drag.bind(i),onDrop:i.dropOnPile,onDragOver:i.allowDrop.bind(i),text:e.unicode})),r.push(a)}),e?n.push(d.a.createElement(k,{id:"pile_"+t,className:"pile",text:r})):n.push(d.a.createElement("div",{id:"pile_"+t,className:"pile",onDrop:this.dropOnEmptyPile,onDragOver:this.allowDrop.bind(this)}))}},{key:"rendOpenCards",value:function(){var e=this.state.openCards;if(!e.length)return d.a.createElement("div",{className:"back"},i);var t=e[e.length-1],r=[t.color,t.number,t.type,"back"].join("_"),n=this.cardColor[t.color],i=d.a.createElement("div",{id:r,style:{color:n},draggable:"true",onDragStart:this.drag.bind(this)},t.unicode);return d.a.createElement("div",{className:"back"},i)}},{key:"rendWinningDiv",value:function(){var e=this,t=this.state.winningState,r=[];return Object.keys(t).forEach(function(n){var i=t[n].length,a=t[n][i-1],o=a.unicode,s=a.color;r.push(d.a.createElement(O,{class:"reservedCard",id:n,onDrop:e.drop,onDragOver:e.allowDrop.bind(e),text:d.a.createElement("div",{style:{color:s}},o)}))}),d.a.createElement("div",{className:"reservedSection"},r)}},{key:"render",value:function(){return console.log(this.state.isWon),this.state.isWon?d.a.createElement("div",null,d.a.createElement("img",{src:"https://cdn2.iconfinder.com/data/icons/kick-off/450/Throphy-512.png"})):d.a.createElement("div",{className:"solitaire"},d.a.createElement("div",{className:"upperContainer"},d.a.createElement("div",{className:"backAndCurrentCard"},d.a.createElement(k,{className:"back",id:"back",onClick:this.updateOpenCards,text:this.BACK}),d.a.createElement(this.rendOpenCards,null)),d.a.createElement(this.rendWinningDiv,null)),this.rendCards())}}]),t}(d.a.Component);function k(e){return d.a.createElement("div",{id:e.id,className:e.className,onClick:e.onClick},e.text)}function C(e){return d.a.createElement("div",{id:e.id,className:e.class,draggable:!0,onDragStart:e.onDragStart,onDrop:e.onDrop,onDragOver:e.onDragOver},e.text)}function O(e){return d.a.createElement("div",{className:e.class,id:e.card,onDrop:e.onDrop,onDragOver:e.onDragOver},e.text)}p.a.render(d.a.createElement(f,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.29de6353.chunk.js.map